encryption = "age"

[diff]
    pager = "delta"

[merge]
    # https://www.chezmoi.io/user-guide/tools/merge/#use-vscode-as-the-merge-tool
    # Note the second arg is a template string because we need to escape the brackets
    command = "bash"
    args = [
        "-c",
        {{`"cp {{ .Target | quote }} {{ printf \"%s.base\" .Target | quote }} && code --new-window --wait --merge {{ .Destination | quote }} {{ .Target | quote }} {{ printf \"%s.base\" .Target | quote }} {{ .Source | quote }}"`}},
    ]

[age]
    identity = "~/.config/chezmoi/key.txt"
    recipient = "age1ss5crrns78lu7mgplaxywuw0nu2rsmar2ua7drlermulu0k75snsv9stlh"

[data]
    git_signingkey = "{{ (gitHubKeys "t-mart" | first).Key }}"

    {{- $isWorkstation := promptBoolOnce . "isWorkstation" "Should we install workstation packages (development and multimedia stuff)" }}
    isWorkstation = {{ $isWorkstation }}
    {{- $isGraphical := promptBoolOnce . "isGraphical" "Should we install graphical packages (desktop environment and related stuff)" }}
    isGraphical = {{ $isGraphical }}
    {{- $hasNvidia := promptBoolOnce . "hasNvidia" "Does this machine use an Nvidia GPU" }}
    hasNvidia = {{ $hasNvidia }}
    {{- $usesBrotherPrinter := promptBoolOnce . "usesBrotherPrinter" "Does this machine use a Brother laser printer" }}
    usesBrotherPrinter = {{ $usesBrotherPrinter }}
    {{- $isThinkpadZ13 := promptBoolOnce . "isThinkpadZ13" "Is this machine a ThinkPad Z13" }}
    isThinkpadZ13 = {{ $isThinkpadZ13 }}

[gitHub]
    refreshPeriod = "24h"
    
[interpreters.py]
    command = "uv"
    args = ["run", "python"]

[cd]
    command = "nu"
